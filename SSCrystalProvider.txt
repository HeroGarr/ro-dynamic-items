/**
 * Generates a shard from parameters passed.
 * @param itemID The item ID of the shard being created.
 * @param level The level of the shard being created.
 */
function	script	createShard	{
    // Parameter data.
    set .@itemID, getarg(0);
    
    // Card info.
    set .@GID, generateKey;
    set .@RID, getcharid(0);
    
    // Store RID in card3 and card4.
    set .@card3, .@RID & 65535;
    set .@card4, .@RID >> 16;

    // Generate the shard.l
	getitem2 .@itemID,1,1,0,0,.@card1,.@card2,.@card3,.@card4;
	return;
	
	 // Update record to reflect new data.
        // TODO: A query that updates the owner, holder, id
        //       and level. Probably have createShard handle
        //       the data update.
        query_sql("");
        
     
     // Create shard record in shard_data table.
     // key, owner_id, holder_id, item_id, level, experience
     // Key may end up becoming just the unique incrementing id
     query_sql("");
}




/**
 * Work on this way later.
 */
function	script	determineShard	{

}



/**
 * Returns the instance ID of the generateKey function.
 */
function	script	generateKey	{
    return getnpcid(0, "generateKey");
}
