/**
 * When a shard is equipped, increase SSEquipped by 1.
 * When a shard is unequipped, decrease SSEquipped by 1.
 * SSEquipped determines how many shards are equipped.
 *
 * When a monster dies invoke SSNPCKillEventListener script,
 * determine which shards require experience, then call
 * SSExperienceHandler to manage experience distribution.
 */
- script SSEventListener -1,{
    OnNPCKillEvent:
        if(SSEquipped == 1) {
            if(getequipweaponlv(EQI_ACC_L))
                callfunc("SSExperienceHandler", getequipid(EQI_ACC_L), EQI_ACC_L);
            else
                callfunc("SSExperienceHandler", getequipid(EQI_ACC_R), EQI_ACC_R);
        }
        
        if(SSEquipped == 2) {
            callfunc("SSExperienceHandler", getequipid(EQI_ACC_L), EQI_ACC_L);
            callfunc("SSExperienceHandler", getequipid(EQI_ACC_R), EQI_ACC_R);
        }
}
